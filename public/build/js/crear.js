!function(){const e={email:"",password:"",pregunta1:"",respuesta1:"",pregunta2:"",respuesta2:"",tipoUsuario:""},t=[{regex:/.{6,}/,index:0},{regex:/[a-z]/,index:1},{regex:/[A-Z]/,index:2},{regex:/[0-9]/,index:3}],r={password:!1},a=document.querySelector("#formUsuario"),o=document.querySelector("#email"),s=document.querySelector("#password"),i=document.querySelector("#pregunta1"),n=document.querySelector("#respuesta1"),d=document.querySelector("#pregunta2"),u=document.querySelector("#respuesta2"),c=document.querySelector("#icono"),l=document.querySelector("#tipoUsuario"),p=document.querySelectorAll(".lista-requerimiento li");function m(r){"email"===r.target.id?e[r.target.id]=r.target.value.trim().toLowerCase():e[r.target.id]=r.target.value.trim(),"password"===r.target.id&&t.forEach(e=>{const t=e.regex.test(r.target.value),a=p[e.index];t?(a.classList.add("valido"),a.firstElementChild.className="fa-solid fa-check"):(a.classList.remove("valido"),a.firstElementChild.className="fa-solid fa-circle")})}document.querySelector("#formUsuario").addEventListener("submit",t=>{t.preventDefault();const r=document.querySelector("#campo-email");if(function(e){return!!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}(e.email)){if(document.querySelector(".invalido")&&r.classList.remove("invalido"),Object.values(e).includes(""))return void iziToast.error({title:"Error",message:"Todos los campos son requeridos",position:"topCenter",displayMode:1});!async function(){const{email:t,password:r,pregunta1:a,respuesta1:o,pregunta2:s,respuesta2:i,tipoUsuario:n}=e,d=document.querySelector("#boton-crear"),u=new FormData;u.append("correo",t),u.append("password",r),u.append("pregunta1",a),u.append("respuesta1",o),u.append("pregunta2",s),u.append("respuesta2",i),u.append("tipo_u",n),d.disabled=!0,d.value="Creando...",d.classList.add("btn-disabled");try{const e=window.location.origin+"/api/crearUsuario",t=await fetch(e,{method:"POST",body:u}),r=await t.json();if(!0===r.consulta)return Swal.fire({icon:"icon",title:"El Correo Ya Exite!",text:"Un Usuario Ya Se Encuentra Registrado Con Este Correo!",button:"OK!"}),void setTimeout(()=>{d.classList.remove("btn-disabled"),d.value="Crear",d.disabled=!1},2e3);r.resultado&&Swal.fire({icon:"success",title:"Usuario Creado!",text:"Usuario Creado Correctamente!",button:"OK!"}).then(()=>{setTimeout(()=>{window.location.replace("/")},500)})}catch(e){Swal.fire({icon:"error",title:"Error",text:"Hubo un error al crear usuario!"}),d.classList.remove("btn-disabled"),d.value="crear",d.disabled=!1}}()}else r.classList.add("invalido"),iziToast.error({title:"Error",message:"Formato de correo invalido",position:"topCenter",displayMode:1})}),a&&(o.addEventListener("input",m),s.addEventListener("input",m),i.addEventListener("change",m),n.addEventListener("input",m),d.addEventListener("change",m),u.addEventListener("input",m),l.addEventListener("change",m)),s.addEventListener("keyup",e=>{r.password=function(e){const t=/[A-Z]/.test(e),r=/[a-z]/.test(e),a=/\d/.test(e);return t&&r&&a}(e.target.value)}),c.addEventListener("click",()=>{c.classList.toggle("fa-fade"),"password"===s.type?s.type="text":s.type="password"})}();